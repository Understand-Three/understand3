---
title: 区块链是什么？
draft: true
aliases:
  - 区块链是什么？
---
>[!NOTE]
>
> 区块链是是一种技术，广为熟知的比特币和以太坊只是使用了这种技术。区块链和金融是强相关的，因为它的创建者（中本聪）一开始就是为了金融的目的（比特币）而创造了它。
> 
> 在大多数时候，谈到区块链的时候，总是会伴随着 Web3，很容易让人以为 Web3 就是区块链，就像认为比特币就是区块链一样，实际上 Web3 是一种基于 Web2 的对下一代互联网的畅想。
> 
> 本文主要解释区块链的技术和原理。关于前文提及的两个概念，可以查看：
> - [[What_is_Bitcoin|比特币是什么？]]
> - [[What_is_Web3|Web3 是什么？]]

首先对区块链做一个总结放在最前面：

**区块链就是通过密码学的方式形成的一个由集体维护的分布式数据库。**

# 非技术
[技术分解](#技术)

在解释区块链具体是什么东西之前我认为最核心的是要知道“我们为什么要用区块链技术”。

**1、区块链的诞生是为了解决什么问题？**

在支付宝转账的时候，作为用户的你感觉是把你的钱直接打到对方的账户中。但....事实是这样的：

![](https://cdn.nlark.com/yuque/0/2022/png/441004/1643267785966-0a74a7e4-e3e0-46ba-a1b7-2694d276dd47.png)

首先是你向支付宝转入 100 元，然后支付宝在先对方转入 100 元，这里支付宝承担了“第三方”的角色，它帮你记录了你向对方转账的全过程。
  
那为什么我们俩转账为什么要有一个“第三方”？

想象一下，你通过网络，向一个与你相隔万里的陌生付款，你应该怎样保证这笔交易是安全的、可信的？例如，在交易前，你确定对方的账户是可信的？在交易过程中，你的资金不会暴露与风险之？在交易后，你的的交易被所有人都承认其合法性？

像支付宝和银行这样的金融机构一样，“第三方”主要是提供信用背书，它是通过政府权威向大众提供的信用背书。通过这样的机构，人们得以同全世界的商家进行交易。

2006 年，大洋彼岸的一位神秘人在想，我为什么不能**直接把这笔钱直接付给对方**呢？

于是比特币就出现了，这是首个实现**直接把这笔钱直接付给对方**的金融产品，它的底层正是**区块链**技术。

**传统中心化的方式：**

![[image-4.png]]
> 图源：https://www.yuque.com/tedawanlamian/pxki07/ckggsh

**区块链网络下的”去中心化的方式：**

![[image-3.png]]
> 图源：https://www.yuque.com/tedawanlamian/pxki07/ckggsh

在去中心化的网络下，每个用户之间都可以是直接联系的，不再有任何第三方的参与，用户间的转账就像手递手付现金一样，这也是为什么比特币会被称为”电子现金“。

好了，现在 A 已经把钱转给 B 了，那么谁来记这笔账呢？之前有支付宝帮我记账对账，会统一存在支付宝后台系统中。为了让所有用户的交易都被记录下来并且账目都是正确的，支付宝会为此付出巨大努力。看看支付宝的初期...  

![](https://cdn.nlark.com/yuque/0/2022/png/441004/1643267786937-61eff690-1527-4099-b6a2-3f041357bde1.png)

![](https://cdn.nlark.com/yuque/0/2022/png/441004/1643267787171-b3370231-237a-445e-8aef-a827e64ec0d8.png)

![](https://cdn.nlark.com/yuque/0/2022/png/441004/1643267787435-897a037d-8019-473e-b276-6bebca524e83.png)

![](https://cdn.nlark.com/yuque/0/2022/png/441004/1643267787494-420fed14-3cff-4e00-989f-46b122e4cf2a.png)

每天 1000 笔的账单，人工对账就已经很痛苦了。

以现在支付宝的体量，每天少则几十万的账单，即使是系统对账也难免漏单，并且要付出相应的人力、物力来维护这一套非常复杂的收支清算系统。

说了这么多，那区块链是怎么对账的呢？答案是：**没有！**

在区块链的网络中根本不需要对账，零清算，因为区块链中的每一个节点（就是一台计算机或理解为一个用户）自己都有一个账本，这个账本是实时更新的，区块链网络中发生的任何交易都会被记到你自己的账本中，没错，别人的帐你也有，但是你是不知道这个人是谁的，因为他们统一都长这个样子：

0x d7a8fbb307d7809469ca9abcb0082e4f8d5651e46d3cdb762d02d0bf37c9e592

这就意味着，以前由一个中心化的机构帮你记账对账，现在由每一个网络中的参与者帮你记账，大家都有同一个账本。如下图

![](https://cdn.nlark.com/yuque/0/2022/png/441004/1643267787888-84dfaad8-d2d3-4596-9abf-e9e50ee6cea1.png)

  

每个人拥有同一个账本，即使你篡改了你自己的账本，让你的账上多了1亿，可是51%以上的账本中你的账户还是1分钱，那就说明你的帐上余额就是1分钱，无法抵赖。当然，如果你能控制网络51%的人在账本中帮你把一分钱变成1亿，你就能获得一亿，但基本上就要动用举国之力了....骚年，你确定你可以？

这就是为什么大家说区块链网络是安全的，因为攻击成本太过巨大，打个比方：比特币现在市值80亿美元，如果你想攻破它并得到这80亿美元，你可能要花费200多亿美元......  
  
说了上面这么多其实就是想说明区块链的几个特性：

1. 去中心化，没有第三方中介，一切都由程序来完成。  
    
2. 安全性，主要体现在分布式、51%攻击，即使一个节点被攻击或宕机也不会影响网络的运行。
3. 最核心的就是：去信任。一切社会行为都要建立在”信任“的基础上，这也是区块链解决的最根本的问题。

![](https://cdn.nlark.com/yuque/0/2022/png/441004/1643267787834-edf5041d-ae42-4a25-9735-8f4b0084fc13.png)

这是《造梦者》中马云的说一句话，时至今日，**区块链技术解决的最核心的问题就是“信任”**。








# 技术
[非技术分解](#非技术)

首先，区块链，字面上理解就是由多个“区块”连接成为的一种“链式”的数据结构。

就像这样：
![[image.png]]
>图源：https://cdn.nlark.com/yuque/0/2022/png/441004/1643268031555-0d9949dc-0f37-4ff8-a07d-0c3728d04983.png
  
  
下面来详细说一下具体一个区块是什么样的数据结构：

![[blockchain_2.png]]

>图源：https://cdn.nlark.com/yuque/0/2022/png/441004/1643268031600-e6442358-3fd6-48e9-b8ea-d33842db3f80.png

- 区块高度：可以理解为每个区块的唯一ID，从零开始的“创世块”（即块高度为0），一段时间生成一个块，块高度加1。
- 头哈希：每一个区块都有一个唯一哈希值，依据上一个区块的头哈希+数据块哈希+随机数生成
- 父哈希：上一个高度区块的哈希值
- merkle根：区块中每一笔交易对应一个哈希，呈树状结构，生成的最终值（根），代表了该区块中的交易。
- 难度：难度不是固定不变的，会随着网络现有算力的变化而自动调节
- Nonce：挖矿所要达到的目标值
- 区块体：一定时间内所生成的交易信息，即账本。

说到这里，一定还有头脑中没有形成区块链的概念，所以我下面描述一个比特币中交易的“全流程”：

小明和小红每人有一个比特币的地址（公钥：相当于是我们银行卡的卡号 ）和一个私钥（相当于银行卡密码或者说你的签名），像这个样子：1JQMpgRThCJjKbs7P8Ht6x142zjPJFmZVY

我们需要填写转账的金额和对方的比特币地址，就像我们平时用银行卡转账一样的操作，一段时间后，对方即可收到你的转账金额。

这是作为用户能感知到的，看上去和我们平时的转账交易没什么不同，只是“卡号”看起来奇怪了一点，交易时间变长了一点。

那么当你按下“转账”按钮时，背后的区块链系统到底发生了什么？

1. 使用私钥对这笔即将发生的交易进行签名
2. 从你的客户端把你的这笔交易提交到区块链网络
3. 由已经开启“挖矿”程序的计算机（称为矿机）把10分钟内的交易打包成一个数据块（相当于一个账本，其中就包含了小明的这笔交易）
4. 这个数据块就是上图中的“区块主体”，而此时，这些区块主体中的交易并未生效。
5. **那么如何使这些交易生效呢？每个区块中都有一个哈希值，通过不断哈希运算，不断哈希运算（可能是几亿次）最终找到一个比当前哈希小的值，就认为这个区块被确认。即为交易生效，这个过程就称为“挖矿”**。
6. 那谁来做这个哈希呢？全球那么多交易，如果只是一家公司的几台计算机是远远不够的。所以，比特币有“激励机制”，当一台计算机确认了一个区块，就可以奖励12.5个比特币。为了得到Money，越来越多矿工就有动力造更大更多算力的矿机来“挖矿 ”。越多的人参与挖矿的竞争，算力就越分散，比特币系统就越不可能被某一个人控制。这就形成了“双赢”的局面，对于矿工来说，想想你每天游山玩水，有一台机器每天帮你赚钱，源源不断地打到你的账户#滑稽脸。对于创造比特币的人来说，几乎不花钱一分钱就能常年安全稳定地运行一套这么牛X的系统，一样可以去游山玩水而不用担心系统的维护。

下图是一幅比特币交易流程图：

![](https://cdn.nlark.com/yuque/0/2022/png/441004/1643268034767-53ef4e8f-e939-45d3-8cf0-2087f06af9ef.png)

区块链、比特币相关概念及工作原理解释：

![](https://cdn.nlark.com/yuque/0/2022/png/441004/1643268034545-afb48eec-d157-418d-95e6-1fb7bd4aa8f9.png)



# 参考：
1. [【书籍】《区块链：从数字货币到信用社会》](https://weread.qq.com/web/bookDetail/61932d305cc93861945b6dc)：这本书从现实版的区块链行为理念深入到区块链的技术世界，整体不算很难

2. [【网站】我的第一个 NFT](https://myfirstnft.info/)： 比较全面和通俗的区块链学习网站，只需1小时即可入门

3. [【语雀文档】区块链，密码`cg1a`](https://www.yuque.com/books/share/3e4d4f19-4223-4191-8809-19c036a65101?#)：涉及区块链、以太坊、智能合约、NFT、百度超级链等知识点（本文引用的大量的图片）

5. [【飞书文档】区块链](https://q76mcea5o0.feishu.cn/wiki/wikcngM7oexjFvaLYdkKfnI13Gh)

https://k5ms77k0o1.feishu.cn/wiki/wikcnDLDdV4tYM9tb975IvGxKPb



